sole=10;
nowcol="red";

window.onkeypress=function(e){
  a = e.charCode;
  if(a === 100){
    posx+=sole;
  }
  if((a === 101) && (posz<(-200))){
    posz+=sole;
  }
  if(a === 99){
    posz-=sole;
  }
  if(a === 97){
    posx-=sole;
  }
  if(a === 119){
    posy+=sole;
  }
  if(a === 115){
    posy-=sole;
  }
  if(a === 102){
    nowcol="red";
  }
  if(a === 103){
    nowcol="green";
  }
  if(a === 104){
    nowcol="white";
  }
}





// distance to screen -- 24"
// distance to right edge from middle of canvas -- 4"
//
// An object 24" away and 4" to the right will be at (800, 300)
// An object 12" away and 2" to the right will be at (800, 300)
// An object 24" away and 0" to the right will be at (400, 300)
//
//
// An object 24" away and 3" up will be at (400, 600)
//
// ratio is 6: 1


// OLCN

ptsO=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,0],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,20],[-5,-5,10],[-5, 5, 10],[5,5,10],[5,-5,10],[-5,-5,10]];

ptsL=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,0],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,20],[-5,5,10],[-5, -5, 10],[5,-5,10]];

ptsO=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,0],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,20],[-5,-5,10],[-5, 5, 10],[5,5,10],[5,-5,10],[-5,-5,10]];

ptsLOL1=[[-30,-10,0],[-30,10,0],[-10,10,0],[-10,-10,0],[-30,-10,0],[-30,-10,20],[-30,10,20],[-10,10,20],[-10,-10,20],[-30,-10,20],[-25,5,10],[-25, -5, 10],[-15,-5,10]];

ptsLOL2=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,0],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,20],[-5,-5,10],[-5, 5, 10],[5,5,10],[5,-5,10],[-5,-5,10]];

ptsLOL3=[[10,-10,0],[10,10,0],[30,10,0],[30,-10,0],[10,-10,0],[10,-10,20],[10,10,20],[30,10,20],[30,-10,20],[10,-10,20],[15,5,10],[15, -5, 10],[25,-5,10]];


ptsLOL0=[[-30,-10,0],[-30,10,0],[-10,10,0],[-10,-10,0],[-30,-10,1000000],[-30,-10,20],[-30,10,20],[-10,10,20],[-10,-10,20],[-30,-10,1000020],[-25,5,10],[-25, -5, 10],[-15,-5,1000010]];

ptsLOL1=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,1000000],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,1000020],[-5,-5,10],[-5, 5, 10],[5,5,10],[5,-5,10],[-5,-5,1000010]];

ptsLOL2=[[10,-10,0],[10,10,0],[30,10,0],[30,-10,0],[10,-10,1000000],[10,-10,20],[10,10,20],[30,10,20],[30,-10,20],[10,-10,1000020],[15,5,10],[15, -5, 10],[25,-5,1000010]];

ptsLOL3=[[-30,-10,0],[-30,10,0],[-10,10,0],[-10,-10,0],[-30,-10,1000000],[-30,-10,20],[-30,10,20],[-10,10,20],[-10,-10,20],[-30,-10,1000020],[-25,5,10],[-25, -5, 10],[-15,-5,1000010],[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,1000000],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,1000020],[-5,-5,10],[-5, 5, 10],[5,5,10],[5,-5,10],[-5,-5,1000010],[10,-10,0],[10,10,0],[30,10,0],[30,-10,0],[10,-10,1000000],[10,-10,20],[10,10,20],[30,10,20],[30,-10,20],[10,-10,1000020],[15,5,10],[15, -5, 10],[25,-5,1000010]];


pts2O=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,1000000],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,1000020],[-5,-5,10],[-5, 5, 10],[5,5,10],[5,-5,10],[-5,-5,1000010]];

pts2L=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,1000000],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,1000020],[-5,5,10],[-5, -5, 10],[5,-5,1000010]];

pts2C=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,1000000],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,1000020],[5,5,10],[-5, 5, 10],[-5, -5, 10],[5,-5,1000010]];

pts=[[-10,-10,0],[-10,10,0],[10,10,0],[10,-10,0],[-10,-10,0],[-10,-10,20],[-10,10,20],[10,10,20],[10,-10,20],[-10,-10,20]];




pts2=[[-5,-5,0],[-5,5,0],[5,5,0],[5,-5,0],[-5,-5,0],[-5,-5,10],[-5,5,10],[5,5,10],[5,-5,10],[-5,-5,10]];

posx = 0;
posy = 0;
posz = -500;



window.onload = function(){
  document.getElementById('cancan').width = 800;
  document.getElementById('cancan').height = 600;
  ctx = document.getElementById('cancan').getContext('2d');
  drawit(pts);
}

function drawit(inx,iny,inz,inpts){
  rx = (Math.random()*11-5)/10;
  ry = (Math.random()*11-5)/10;
  rz = (Math.random()*11-5)/10;

  ctx.beginPath();
  for(a=0;a<inpts.length-1;a++){
    if(inpts[a][2] < 500000){

      x1 = inpts[a][0]-posx+rx+inx;
      y1 = inpts[a][1]-posy+ry+iny;
      z1 = inpts[a][2]-posz+rz+inz;
      x2 = inpts[a+1][0]-posx+rx+inx;
      y2 = inpts[a+1][1]-posy+ry+iny;
      z2 = (inpts[a+1][2] > 500000 ? inpts[a+1][2]-1000000 : inpts[a+1][2])-posz+rz+inz;

      xa = 2400*x1/z1 + 400;
      ya = (-2400)*y1/z1 + 300;
      xb = 2400*x2/z2 + 400;
      yb = (-2400)*y2/z2 + 300;

      ctx.moveTo(xa,ya);
      ctx.lineTo(xb,yb);
    }
  }
  ctx.closePath();
  ctx.strokeStyle=nowcol;
  ctx.stroke();
}

arr = [];

for(aaa=0;aaa<100;aaa++){
  arr[aaa] = [];
  arr[aaa] = [Math.random()*501-250,Math.random()*501-250,Math.random()*501];
}

arr2 = [];

for(aaa2=0;aaa2<100;aaa2++){
  arr2[aaa2] = [];
  arr2[aaa2] = [Math.random()*501-250,Math.random()*501-250,Math.random()*501];
}


arr3 = [];

for(aaa3=0;aaa3<100;aaa3++){
  arr3[aaa3] = [];
  arr3[aaa3] = [Math.random()*501-250,Math.random()*501-250,Math.random()*501];
}


setInterval(function(){
//  posz++;
  ctx.clearRect(0,0,800,600);
  for(aa=0;aa<100;aa++){
    drawit(arr[aa][0],arr[aa][1],arr[aa][2],pts2L);
    drawit(arr2[aa][0],arr2[aa][1],arr2[aa][2],pts2O);
    drawit(arr3[aa][0],arr3[aa][1],arr3[aa][2],pts2C);
  }
},100);

